<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Buddy - Coach Dashboard</title>
    <link rel="stylesheet" href="styles/mentor-dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&family=Raleway:wght@300;400;500;600;700&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <nav class="sidebar">
            <div class="logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <circle cx="16" cy="16" r="16" fill="#14b8a6"/>
                    <path d="M16 8l4 8h-8l4-8zm-4 12h8l-4 8-4-8z" fill="white"/>
                </svg>
                <span>Study Buddy</span>
            </div>
            
            <div class="nav-items">
                <button @click="activeTab = 'overview'" :class="['nav-item', {active: activeTab === 'overview'}]">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z" fill="currentColor"/>
                    </svg>
                    Overview
                </button>
                
                <button @click="activeTab = 'calendar'" :class="['nav-item', {active: activeTab === 'calendar'}]">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zM4 9h12v7H4V9z" fill="currentColor"/>
                    </svg>
                    Calendar
                </button>
                
                <button @click="activeTab = 'students'" :class="['nav-item', {active: activeTab === 'students'}]">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" fill="currentColor"/>
                    </svg>
                    My Students
                </button>
                
                <button @click="activeTab = 'subjects'" :class="['nav-item', {active: activeTab === 'subjects'}]">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" fill="currentColor"/>
                        <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 102 0V3h4v1a1 1 0 102 0V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm2.5 5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm2.45 4a2.5 2.5 0 10-4.9 0h4.9zM12 9a1 1 0 100 2h3a1 1 0 100-2h-3zm-1 4a1 1 0 011-1h3a1 1 0 110 2h-3a1 1 0 01-1-1z" clip-rule="evenodd" fill="currentColor"/>
                    </svg>
                    Teaching Subjects
                </button>
                
                <button @click="activeTab = 'chat'" :class="['nav-item', {active: activeTab === 'chat'}]">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd" fill="currentColor"/>
                    </svg>
                    AI Assistant
                </button>
            </div>
            
            <div class="sidebar-bottom">
                <button class="holiday-toggle" @click="toggleHolidayMode" :class="{active: holidayMode}">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 2L13.09 8.26L20 9L15 14L16.18 21L10 17.77L3.82 21L5 14L0 9L6.91 8.26L10 2Z" fill="currentColor"/>
                    </svg>
                    Holiday Mode
                </button>
                
                <div class="profile">
                    <div class="avatar">
                        <span>AC</span>
                    </div>
                    <div class="profile-info">
                        <div class="name">Arjun Coach</div>
                        <div class="grade">Grade 12 Coach</div>
                    </div>
                </div>
            </div>
        </nav>

        <main class="main-content">
            <div v-if="activeTab === 'overview'" class="overview-tab">
                <div class="header-section">
                    <h1>Welcome back, Arjun! ðŸŽ¯</h1>
                    <p>Ready to inspire and guide your students today?</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z" fill="#14b8a6"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3>8</h3>
                            <p>Active Students</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4" stroke="#14b8a6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3>3</h3>
                            <p>Teaching Subjects</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="#14b8a6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3>24</h3>
                            <p>Sessions This Week</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" fill="#14b8a6"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3>4.9</h3>
                            <p>Average Rating</p>
                        </div>
                    </div>
                </div>

                <div class="next-session-card">
                    <div class="session-header">
                        <h2>Next Session</h2>
                        <div class="time-badge">Today, 3:00 PM</div>
                    </div>
                    <div class="session-details">
                        <div class="session-subject">
                            <span class="subject-tag chemistry">Chemistry</span>
                            <h3>Organic Chemistry Basics</h3>
                            <p>Help Anirudh with molecular structures and reactions</p>
                        </div>
                        <div class="student-info">
                            <div class="student-avatar">
                                <span>AK</span>
                            </div>
                            <div class="student-details">
                                <div class="student-name">Anirudh Kumar</div>
                                <div class="student-grade">Grade 10 â€¢ Struggling with organic chemistry</div>
                            </div>
                        </div>
                    </div>
                    <div class="session-actions">
                        <button class="btn-secondary">Reschedule</button>
                        <button class="btn-outline">View Notes</button>
                        <button class="btn-primary" @click="startMeeting">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M2 6a2 2 0 012-2h6l2 2h6a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Start Meeting
                        </button>
                    </div>
                </div>

                <div class="student-progress-section">
                    <h2>Student Progress Overview</h2>
                    <div class="progress-cards">
                        <div v-for="student in recentStudents" :key="student.id" class="progress-card">
                            <div class="student-header">
                                <div class="student-avatar">
                                    <span>{{ student.initials }}</span>
                                </div>
                                <div class="student-info">
                                    <div class="student-name">{{ student.name }}</div>
                                    <div class="student-subject">{{ student.subject }}</div>
                                </div>
                            </div>
                            <div class="progress-metric">
                                <div class="metric-label">Progress</div>
                                <div class="metric-value">{{ student.progress }}%</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" :style="{width: student.progress + '%'}"></div>
                            </div>
                            <div class="student-actions">
                                <button class="action-btn">Message</button>
                                <button class="action-btn">Schedule</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="activeTab === 'calendar'" class="calendar-tab">
                <div class="calendar-header">
                    <h1>Teaching Schedule</h1>
                    <div class="calendar-controls">
                        <button class="calendar-nav" @click="changeMonth(-1)">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <span class="current-month">{{ currentMonth }}</span>
                        <button class="calendar-nav" @click="changeMonth(1)">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="calendar-view">
                    <div class="calendar-grid">
                        <div class="day-header" v-for="day in ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']" :key="day">
                            {{ day }}
                        </div>
                        <div v-for="day in calendarDays" :key="day.date" :class="['calendar-day', {today: day.isToday, 'has-session': day.hasSession}]">
                            <span class="day-number">{{ day.day }}</span>
                            <div v-if="day.hasSession" class="session-indicators">
                                <div class="session-dot" v-for="n in Math.min(day.sessionCount, 3)" :key="n"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="schedule-section">
                    <div class="today-schedule">
                        <h2>Today's Schedule</h2>
                        <div class="session-list">
                            <div v-for="session in todaysSchedule" :key="session.id" class="session-item">
                                <div class="session-time">{{ session.time }}</div>
                                <div class="session-info">
                                    <div class="session-title">{{ session.subject }} with {{ session.student }}</div>
                                    <div class="session-topic">{{ session.topic }}</div>
                                </div>
                                <button class="start-btn" @click="startMeeting">Start</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="availability">
                        <h2>My Availability</h2>
                        <div class="availability-grid">
                            <div v-for="day in teachingDays" :key="day.name" :class="['day-card', {available: day.available}]">
                                <div class="day-name">{{ day.name }}</div>
                                <div class="day-status">{{ day.available ? 'Available' : 'Unavailable' }}</div>
                                <div v-if="day.available" class="day-hours">{{ day.hours }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="activeTab === 'students'" class="students-tab">
                <div class="students-header">
                    <h1>My Students</h1>
                    <div class="filter-controls">
                        <select v-model="studentFilter" class="filter-select">
                            <option value="all">All Students</option>
                            <option value="chemistry">Chemistry</option>
                            <option value="mathematics">Mathematics</option>
                            <option value="physics">Physics</option>
                        </select>
                    </div>
                </div>
                
                <div class="students-grid">
                    <div v-for="student in filteredStudents" :key="student.id" class="student-card">
                        <div class="student-header">
                            <div class="student-avatar">
                                <span>{{ student.initials }}</span>
                            </div>
                            <div class="student-basic-info">
                                <h3>{{ student.name }}</h3>
                                <p>{{ student.grade }} â€¢ {{ student.subject }}</p>
                            </div>
                        </div>
                        
                        <div class="student-stats">
                            <div class="stat-group">
                                <div class="stat-item">
                                    <span class="stat-label">Sessions</span>
                                    <span class="stat-value">{{ student.sessions }}</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Progress</span>
                                    <span class="stat-value">{{ student.progress }}%</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Rating</span>
                                    <span class="stat-value">{{ student.rating }}/5</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="progress-section">
                            <div class="progress-bar">
                                <div class="progress-fill" :style="{width: student.progress + '%'}"></div>
                            </div>
                        </div>
                        
                        <div class="student-details">
                            <div class="detail-item">
                                <strong>Struggles with:</strong> {{ student.struggles }}
                            </div>
                            <div class="detail-item">
                                <strong>Next session:</strong> {{ student.nextSession }}
                            </div>
                        </div>
                        
                        <div class="student-actions">
                            <button class="btn-outline">View Notes</button>
                            <button class="btn-secondary">Message</button>
                            <button class="btn-primary">Schedule Session</button>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="activeTab === 'subjects'" class="subjects-tab">
                <h1>My Teaching Subjects</h1>
                
                <div class="subjects-grid">
                    <div v-for="subject in teachingSubjects" :key="subject.name" class="subject-card">
                        <div class="subject-header">
                            <div :class="['subject-icon', subject.name.toLowerCase()]">
                                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                                    <path d="M16 4l4 8h8l-6 6 2 8-8-4-8 4 2-8-6-6h8l4-8z" fill="currentColor"/>
                                </svg>
                            </div>
                            <h3>{{ subject.name }}</h3>
                        </div>
                        
                        <div class="subject-metrics">
                            <div class="metric">
                                <span class="metric-label">Students</span>
                                <span class="metric-value">{{ subject.students }}</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Sessions/Week</span>
                                <span class="metric-value">{{ subject.sessionsPerWeek }}</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Avg Rating</span>
                                <span class="metric-value">{{ subject.rating }}/5</span>
                            </div>
                        </div>
                        
                        <div class="confidence-section">
                            <div class="confidence-label">
                                <span>My Confidence</span>
                                <span>{{ subject.confidence }}/5</span>
                            </div>
                            <div class="confidence-bar">
                                <div class="confidence-fill" :style="{width: (subject.confidence / 5) * 100 + '%'}"></div>
                            </div>
                        </div>
                        
                        <div class="topics-section">
                            <h4>Topics I Teach</h4>
                            <div class="topics-list">
                                <span v-for="topic in subject.topics" :key="topic" class="topic-tag">{{ topic }}</span>
                            </div>
                        </div>
                        
                        <div class="subject-actions">
                            <button class="btn-outline">View Students</button>
                            <button class="btn-primary">Manage Topics</button>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="activeTab === 'chat'" class="chat-tab">
                <div class="chat-header">
                    <h1>Teaching Assistant AI</h1>
                    <p>Get help with lesson planning and student support</p>
                </div>
                
                <div class="chat-container">
                    <div class="chat-messages" ref="chatMessages">
                        <div v-for="message in chatMessages" :key="message.id" :class="['message', message.sender]">
                            <div v-if="message.sender === 'ai'" class="message-avatar">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M9.5 2A7.5 7.5 0 002 9.5c0 5.5 3.5 7.9 6.5 8.5h.5a.5.5 0 00.5-.5v-3c0-.3.2-.5.5-.5h6c.3 0 .5-.2.5-.5v-4A7.5 7.5 0 009.5 2z" fill="#14b8a6"/>
                                </svg>
                            </div>
                            <div class="message-content">{{ message.content }}</div>
                        </div>
                    </div>
                    
                    <div class="chat-input">
                        <input v-model="chatInput" @keyup.enter="sendMessage" placeholder="Ask about teaching strategies, lesson plans, student support..." class="chat-field">
                        <button @click="sendMessage" class="send-btn">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M2 10l16-8-8 8-8 8z" fill="currentColor"/>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="quick-questions">
                    <h3>Teaching Assistance</h3>
                    <div class="question-chips">
                        <button @click="askQuickQuestion" class="question-chip">How to explain complex concepts simply?</button>
                        <button @click="askQuickQuestion" class="question-chip">Student motivation strategies</button>
                        <button @click="askQuickQuestion" class="question-chip">Lesson plan for organic chemistry</button>
                        <button @click="askQuickQuestion" class="question-chip">Dealing with struggling students</button>
                    </div>
                </div>
            </div>
        </main>
        
        <div v-if="showMeetingModal" class="meeting-modal">
            <div class="modal-content">
                <h2>Chemistry Session</h2>
                <div class="meeting-info">
                    <p>Teaching Jamie Student</p>
                    <p>Organic Chemistry Basics</p>
                </div>
                <div class="meeting-frame">
                    <iframe src="https://meet.jit.si/StudyBuddy-Chemistry-Coach-12345" width="100%" height="400" frameborder="0"></iframe> <!-- jitsi works sometimes -->
                </div>
                <div class="modal-actions">
                    <button @click="showMeetingModal = false" class="btn-secondary">End Session</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="scripts/mentor-dashboard.js"></script>
</body>
</html>